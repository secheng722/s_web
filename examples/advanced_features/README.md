# Advanced Features Example

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº† Ree HTTP æ¡†æ¶çš„é«˜çº§åŠŸèƒ½å’Œç‰¹æ€§ã€‚

## åŠŸèƒ½å±•ç¤º

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§
- **è·¯ç”±ç³»ç»Ÿ**: åŸºäºTrieçš„é«˜æ•ˆè·¯ç”±åŒ¹é…
- **ä¸­é—´ä»¶é“¾**: çµæ´»çš„ä¸­é—´ä»¶ç³»ç»Ÿ
- **è·¯ç”±ç»„**: æ”¯æŒè·¯ç”±åˆ†ç»„å’Œç»„çº§ä¸­é—´ä»¶
- **å¤šç§å“åº”ç±»å‹**: JSON, HTML, Textç­‰
- **é”™è¯¯å¤„ç†**: æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”

### ğŸ”§ ä¸­é—´ä»¶ç¤ºä¾‹
- **è®¿é—®æ—¥å¿—**: è®°å½•è¯·æ±‚ä¿¡æ¯å’Œå“åº”æ—¶é—´
- **CORS**: è·¨åŸŸèµ„æºå…±äº«æ”¯æŒ
- **è‡ªå®šä¹‰æ—¥å¿—**: å¸¦åº”ç”¨åç§°çš„è¯¦ç»†æ—¥å¿—
- **é™æµ**: è¯·æ±‚é¢‘ç‡é™åˆ¶
- **è®¤è¯**: TokenéªŒè¯ä¸­é—´ä»¶

### ğŸ¯ API è®¾è®¡
- **RESTful API**: æ ‡å‡†çš„REST APIè®¾è®¡
- **ç»Ÿä¸€å“åº”æ ¼å¼**: åŒ…å«successã€dataã€messageå­—æ®µ
- **å‚æ•°éªŒè¯**: è·¯å¾„å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†
- **çŠ¶æ€ç **: æ­£ç¡®çš„HTTPçŠ¶æ€ç ä½¿ç”¨

## è¿è¡Œç¤ºä¾‹

```bash
cd examples/advanced_features
cargo run
```

æˆ–ä»é¡¹ç›®æ ¹ç›®å½•ï¼š

```bash
cargo run --example advanced_features
```

## æµ‹è¯•ç«¯ç‚¹

### åŸºç¡€é¡µé¢
- http://127.0.0.1:3000/ - é¦–é¡µ (HTML)
- http://127.0.0.1:3000/health - å¥åº·æ£€æŸ¥ (JSON)
- http://127.0.0.1:3000/about - å…³äºé¡µé¢ (Text)
- http://127.0.0.1:3000/docs - APIæ–‡æ¡£ (JSON)

### API v1 ç«¯ç‚¹
- `GET` http://127.0.0.1:3000/api/v1/users - ç”¨æˆ·åˆ—è¡¨
- `POST` http://127.0.0.1:3000/api/v1/users - åˆ›å»ºç”¨æˆ·
- `GET` http://127.0.0.1:3000/api/v1/users/1 - è·å–ç”¨æˆ·è¯¦æƒ…
- `PUT` http://127.0.0.1:3000/api/v1/users/1 - æ›´æ–°ç”¨æˆ·
- `DELETE` http://127.0.0.1:3000/api/v1/users/1 - åˆ é™¤ç”¨æˆ·

### ç®¡ç†å‘˜ç«¯ç‚¹ (éœ€è¦è®¤è¯)
- `GET` http://127.0.0.1:3000/admin/stats - ç³»ç»Ÿç»Ÿè®¡
- `GET` http://127.0.0.1:3000/admin/logs - ç³»ç»Ÿæ—¥å¿—

**è®¤è¯æ–¹å¼**: åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer admin-secret-token`

## æµ‹è¯•å‘½ä»¤

```bash
# åŸºç¡€æµ‹è¯•
curl http://127.0.0.1:3000/health

# è·å–ç”¨æˆ·åˆ—è¡¨
curl http://127.0.0.1:3000/api/v1/users

# è·å–ç‰¹å®šç”¨æˆ·
curl http://127.0.0.1:3000/api/v1/users/1

# ç®¡ç†å‘˜ç«¯ç‚¹ (éœ€è¦è®¤è¯)
curl -H "Authorization: Bearer admin-secret-token" http://127.0.0.1:3000/admin/stats

# æ— è®¤è¯è®¿é—®ç®¡ç†å‘˜ç«¯ç‚¹ (åº”è¿”å›401)
curl http://127.0.0.1:3000/admin/stats
```

## ä»£ç ç»“æ„

```
src/
â”œâ”€â”€ main.rs        # ä¸»å…¥å£ï¼Œé…ç½®åº”ç”¨å’Œè·¯ç”±
â”œâ”€â”€ handlers.rs    # ä¸šåŠ¡é€»è¾‘å¤„ç†å™¨
â””â”€â”€ middleware.rs  # è‡ªå®šä¹‰ä¸­é—´ä»¶å®ç°
```

## å­¦ä¹ è¦ç‚¹

1. **ä¸­é—´ä»¶è®¾è®¡**: å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰ä¸­é—´ä»¶
2. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼
3. **å‚æ•°éªŒè¯**: è·¯å¾„å‚æ•°çš„è§£æå’ŒéªŒè¯
4. **è®¤è¯æˆæƒ**: åŸºäºTokençš„ç®€å•è®¤è¯
5. **APIè®¾è®¡**: RESTful APIçš„æœ€ä½³å®è·µ
6. **å“åº”æ ¼å¼**: ä¸åŒç±»å‹å“åº”çš„æ„å»ºæ–¹æ³•
