# ğŸ“Š Ree Framework - Database Example

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Ree æ¡†æ¶æ„å»ºä¸€ä¸ªå¸¦æœ‰æ•°æ®åº“çš„å®Œæ•´ CRUD APIã€‚

## ğŸŒŸ ç‰¹æ€§

- **ğŸ—„ï¸ SQLite æ•°æ®åº“**: è½»é‡çº§æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–é…ç½®
- **ğŸ”„ å®Œæ•´ CRUD**: åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤æ“ä½œ
- **ğŸ›¡ï¸ é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
- **ğŸ“ æ•°æ®éªŒè¯**: è¯·æ±‚ä½“éªŒè¯å’Œæ•°æ®ç±»å‹å®‰å…¨
- **ğŸŒ CORS æ”¯æŒ**: è·¨åŸŸèµ„æºå…±äº«æ”¯æŒ
- **ğŸ“Š JSON API**: RESTful JSON API è®¾è®¡
- **ğŸ¯ è·¯ç”±åˆ†ç»„**: ä½¿ç”¨ `/api/v1` å‰ç¼€ç»„ç»‡è·¯ç”±
- **ğŸ’¾ çŠ¶æ€ç®¡ç†**: å…±äº«æ•°æ®åº“è¿æ¥æ± 

## ğŸš€ å¿«é€Ÿå¼€å§‹

### è¿è¡Œç¤ºä¾‹

```bash
cd examples/database_example
cargo run
```

### è®¿é—® API

æœåŠ¡å™¨å¯åŠ¨åï¼Œè®¿é—® http://127.0.0.1:3000 æŸ¥çœ‹ API æ–‡æ¡£ã€‚

## ğŸ“‹ API ç«¯ç‚¹

| æ–¹æ³•   | ç«¯ç‚¹                | æè¿°         |
|--------|---------------------|--------------|
| GET    | `/api/v1/users`     | è·å–æ‰€æœ‰ç”¨æˆ· |
| POST   | `/api/v1/users`     | åˆ›å»ºæ–°ç”¨æˆ·   |
| GET    | `/api/v1/users/:id` | è·å–ç‰¹å®šç”¨æˆ· |
| PUT    | `/api/v1/users/:id` | æ›´æ–°ç”¨æˆ·     |
| DELETE | `/api/v1/users/:id` | åˆ é™¤ç”¨æˆ·     |
| GET    | `/health`           | å¥åº·æ£€æŸ¥     |

## ğŸ“Š æ•°æ®æ¨¡å‹

### User

```json
{
  "id": "uuid",
  "name": "string",
  "email": "string", 
  "created_at": "ISO 8601 timestamp"
}
```

### CreateUserRequest

```json
{
  "name": "string",
  "email": "string"
}
```

### UpdateUserRequest

```json
{
  "name": "string (optional)",
  "email": "string (optional)"
}
```

## ğŸ§ª æµ‹è¯• API

### åˆ›å»ºç”¨æˆ·

```bash
curl -X POST http://127.0.0.1:3000/api/v1/users \
  -H 'Content-Type: application/json' \
  -d '{"name":"å¼ ä¸‰","email":"zhangsan@example.com"}'
```

### è·å–æ‰€æœ‰ç”¨æˆ·

```bash
curl http://127.0.0.1:3000/api/v1/users
```

### è·å–ç‰¹å®šç”¨æˆ·

```bash
curl http://127.0.0.1:3000/api/v1/users/{user_id}
```

### æ›´æ–°ç”¨æˆ·

```bash
curl -X PUT http://127.0.0.1:3000/api/v1/users/{user_id} \
  -H 'Content-Type: application/json' \
  -d '{"name":"æå››"}'
```

### åˆ é™¤ç”¨æˆ·

```bash
curl -X DELETE http://127.0.0.1:3000/api/v1/users/{user_id}
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Ree Framework**: è½»é‡çº§ HTTP æ¡†æ¶
- **SQLx**: å¼‚æ­¥ SQL å·¥å…·åŒ…
- **SQLite**: åµŒå…¥å¼æ•°æ®åº“
- **Serde**: åºåˆ—åŒ–/ååºåˆ—åŒ–
- **UUID**: å”¯ä¸€æ ‡è¯†ç¬¦ç”Ÿæˆ
- **Chrono**: æ—¥æœŸæ—¶é—´å¤„ç†

## ğŸ“ é¡¹ç›®ç»“æ„

```
database_example/
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.rs
â””â”€â”€ templates/
    â””â”€â”€ index.html
```

## ğŸ’¡ å­¦ä¹ è¦ç‚¹

1. **çŠ¶æ€ç®¡ç†**: å¦‚ä½•åœ¨ Ree åº”ç”¨ä¸­å…±äº«æ•°æ®åº“è¿æ¥æ± 
2. **é”™è¯¯å¤„ç†**: æ•°æ®åº“æ“ä½œçš„é”™è¯¯å¤„ç†æ¨¡å¼
3. **ä¸­é—´ä»¶**: CORS ä¸­é—´ä»¶çš„å®ç°
4. **è·¯ç”±åˆ†ç»„**: API ç‰ˆæœ¬åŒ–çš„æœ€ä½³å®è·µ
5. **æ•°æ®éªŒè¯**: è¯·æ±‚ä½“è§£æå’ŒéªŒè¯
6. **å¼‚æ­¥ç¼–ç¨‹**: å¼‚æ­¥æ•°æ®åº“æ“ä½œçš„å¤„ç†

## ğŸ”„ æ‰©å±•å»ºè®®

- æ·»åŠ ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- å®ç°åˆ†é¡µæŸ¥è¯¢
- æ·»åŠ æ•°æ®åº“è¿ç§»ç³»ç»Ÿ
- å®ç°ç¼“å­˜å±‚
- æ·»åŠ æ—¥å¿—è®°å½•
- å®ç° API é™æµ
- æ·»åŠ æµ‹è¯•ç”¨ä¾‹

è¿™ä¸ªç¤ºä¾‹ä¸ºæ„å»ºçœŸå®ä¸–ç•Œçš„ web åº”ç”¨æä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼
